{"root":{"data":{"id":"d3jqbb3rwps0","created":1724054499482,"text":"spring-orm"},"children":[{"data":{"id":"d3jqbgyzm3k0","created":1724054512253,"text":"AbstractEntityManagerFactoryBean","resource":[],"note":"继承FactoryBean<EntityManagerFactory>, 是spring对EntityManager的封装","layout_mind_offset":{"x":45,"y":0},"progress":null,"priority":1},"children":[{"data":{"id":"d3kdcyeexb40","created":1724119514083,"text":"fields","expandState":"expand","layout_right_offset":{"x":61,"y":-3}},"children":[{"data":{"id":"d3jqe4dilv40","created":1724054719926,"text":"persistenceProvider","layout_right_offset":{"x":39,"y":-7},"layout":null,"note":"### PersistenceProvider"},"children":[]},{"data":{"id":"d3kddmq5kxc0","created":1724119567036,"text":"persistenceUnitName","layout_right_offset":{"x":41,"y":1},"note":"### String"},"children":[]},{"data":{"id":"d3kde11a0s00","created":1724119598184,"text":"jpaPropertyMap","layout_right_offset":{"x":50,"y":6},"note":"### Map<String, Object>"},"children":[]},{"data":{"id":"d3kdemg2uzk0","created":1724119644791,"text":"entityManagerFactoryInterface","layout_right_offset":{"x":36,"y":12},"note":"### Class<? extends EntityManagerFactory>"},"children":[]},{"data":{"id":"d3kdf7sutps0","created":1724119691276,"text":"entityManagerInterface","layout_right_offset":{"x":45,"y":14},"note":"### Class<? extends EntityManager>"},"children":[]},{"data":{"id":"d3kdfw3d06o0","created":1724119744154,"text":"jpaDialect","layout_right_offset":{"x":62,"y":23},"note":"### JpaDialect"},"children":[]},{"data":{"id":"d3kdgphriy00","created":1724119808152,"text":"jpaVendorAdapter","layout_right_offset":{"x":49,"y":32},"note":"### JpaVendorAdapter"},"children":[]},{"data":{"id":"d3kdhz91vzs0","created":1724119907757,"text":"nativeEntityManagerFactory","layout_right_offset":{"x":52,"y":36},"note":"### EntityManagerFactory"},"children":[]}]},{"data":{"id":"d3kelwlxybc0","created":1724123036573,"text":"分支主题"},"children":[]}]},{"data":{"id":"d3jqdpa0bi00","created":1724054687062,"text":"PersistenceProvider","layout_mind_offset":{"x":47,"y":29},"note":"### [javax] 由持久性提供程序实现的接口。\n\n它由Jakarta EE环境中的容器和Java SE环境中的javax.persistence.Persistence类调用，以创建EntityManagerFactory和/或导致模式生成。","priority":3},"children":[{"data":{"id":"d3jsks5grqo0","created":1724060884087,"text":"methods","layout_right_offset":{"x":12,"y":15}},"children":[{"data":{"id":"d3jskwv4j8g0","created":1724060894346,"text":"createEntityManagerFactory(String emName, Map map)","note":"#### Called by Persistence class when an EntityManagerFactory is to be created.\n\n```java\n    public EntityManagerFactory createEntityManagerFactory(String emName, Map map);\n```"},"children":[]},{"data":{"id":"d3jsm5zwom00","created":1724060992590,"text":"createContainerEntityManagerFactory(PersistenceUnitInfo info, Map map)","note":"#### Called by the container when an EntityManagerFactory is to be created.\n\n```java\npublic EntityManagerFactory createContainerEntityManagerFactory(PersistenceUnitInfo info, Map map);\n```"},"children":[]},{"data":{"id":"d3kd8t4t2kw0","created":1724119189162,"text":"generateSchema","note":"根据提供的属性创建数据库模式和/或表和/或创建DDL脚本。\n当模式生成作为独立于实体管理器工厂创建的阶段发生时，由容器调用。"},"children":[]}]}]},{"data":{"id":"d3jqlqez8bk0","created":1724055316453,"text":"PersistenceUnitInfo","layout_mind_offset":{"x":346,"y":454},"priority":3,"note":"### [javax]接口由容器实\n\n在创建javax.persistence.EntityManagerFactory时由持久性提供程序使用。"},"children":[{"data":{"id":"d3js4zgvt740","created":1724059646188,"text":"methods","layout_right_offset":{"x":55,"y":-66},"expandState":"expand"},"children":[{"data":{"id":"d3jqog9u5qw0","created":1724055529467,"text":"getPersistenceUnitName","note":"### String\n"},"children":[]},{"data":{"id":"d3jqopt2czs0","created":1724055550220,"text":"getPersistenceProviderClassName","note":"### String"},"children":[]},{"data":{"id":"d3jqp9r71hc0","created":1724055593643,"text":"getTransactionType","note":"* RESOURCE_LOCAL\n* JTA"},"children":[]},{"data":{"id":"d3jqs7zi7mo0","created":1724055824884,"text":"getJtaDataSource","note":"返回支持jpa的数据源，供持久性提供程序使用。\n\n数据源对应于persistence.xml文件中的jta-data-source元素，或者在部署时提供，或者由容器提供。"},"children":[]},{"data":{"id":"d3jrpmxfpk00","created":1724058443428,"text":"getNonJtaDataSource","note":"返回非启用JTA的数据源，持久性提供程序将使用该数据源访问JTA事务外部的数据。\n\n数据源对应于persistence.xml文件中指定的非jta-数据源元素，或在部署时提供的，或由容器提供的。"},"children":[]},{"data":{"id":"d3jrqm7zda00","created":1724058520254,"text":"getMappingFileNames","note":"### List<String>\n\n返回映射文件的名称列表，持久性提供程序必须加载映射文件以确定实体类的映射。\n\n映射文件必须采用标准的XML映射格式，具有唯一的名称，并且可以从应用程序类路径加载资源。每个映射文件名对应于persistence.xml文件中的一个映射文件元素。"},"children":[]},{"data":{"id":"d3jrrii85nc0","created":1724058590530,"text":"getJarFileUrls","note":"### List<URL>\n  \n 返回jar文件或分解的jar文件目录的url列表，持久性提供程序必须检查这些文件以查找持久性单元的托管类。\n  \n每个URL对应于persistence.xml文件中的一个jar文件元素。URL可以是一个文件:引用jar文件的URL或引用包含已分解的jar文件的目录的URL，或者可以从中获得jar格式的InputStream的其他URL。"},"children":[]},{"data":{"id":"d3jrt7ywd2g0","created":1724058724322,"text":"getPersistenceUnitRootUrl","note":"### URL\n\n返回作为持久性单元根的jar文件或目录的URL。(如果持久化单元位于WEB-INF/classes目录中，则这将是该目录的URL。)URL可能是一个文件:引用jar文件的URL或引用包含已分解的jar文件的目录的URL，或者可以从中获得jar格式的InputStream的其他URL。"},"children":[]},{"data":{"id":"d3jru6mutc80","created":1724058799781,"text":"getManagedClassNames","note":"### List<String>"},"children":[]},{"data":{"id":"d3jruoqhc0w0","created":1724058839182,"text":"excludeUnlistedClasses","note":"### boolean"},"children":[]},{"data":{"id":"d3jrva7c5f40","created":1724058885914,"text":"getSharedCacheMode","note":"### SharedCacheMode\n\n* ALL\n* NONE\n* ENABLE_SELECTIVE\n* DISABLE_SELECTIVE\n* UNSPECIFIED"},"children":[]},{"data":{"id":"d3jrwo9yblc0","created":1724058994911,"text":"getValidationMode","note":"### ValidationMode\n\n* AUTO\n* CALLBACK\n* NONE"},"children":[]},{"data":{"id":"d3jrxf8z1i00","created":1724059053625,"text":"getProperties","note":"### Properties"},"children":[]},{"data":{"id":"d3jrxp53nag0","created":1724059075159,"text":"getPersistenceXMLSchemaVersion","note":"### String"},"children":[]},{"data":{"id":"d3jrybf10gw0","created":1724059123648,"text":"getClassLoader"},"children":[]},{"data":{"id":"d3jryghshtk0","created":1724059134699,"text":"addTransformer","note":"### ClassTransformer\n\n"},"children":[]},{"data":{"id":"d3jrzszrubk0","created":1724059240272,"text":"getNewTempClassLoader"},"children":[]}]},{"data":{"id":"d3js5v56cnc0","created":1724059715137,"text":"subclass","layout_right_offset":{"x":115,"y":9}},"children":[{"data":{"id":"d3js65p08400","created":1724059738104,"text":"SmartPersistenceUnitInfo","layout_right_offset":{"x":132,"y":-7},"priority":1},"children":[]},{"data":{"id":"d3js888fqb40","created":1724059900361,"text":"MutablePersistenceUnitInfo","layout_right_offset":{"x":137,"y":8},"priority":1},"children":[]},{"data":{"id":"d3js8modo2o0","created":1724059931800,"text":"SpringPersistenceUnitInfo","layout_right_offset":{"x":137,"y":24},"priority":1},"children":[]}]}]},{"data":{"id":"d3jsacoy1tk0","created":1724060066795,"text":"PersistenceUnitManager","layout_mind_offset":{"x":434,"y":105},"note":"### interface\n\n接口，该接口定义了查找和管理JPA persistenceunitinfo的抽象。\n\n获取PersistenceUnitInfo实例是一个独占过程。一个PersistenceUnitInfo实例一旦被获取，就不能再被进一步调用了。","priority":1},"children":[{"data":{"id":"d3jsamy2xeo0","created":1724060089115,"text":"methods","layout_right_offset":{"x":347,"y":70}},"children":[{"data":{"id":"d3jsbrzhsk00","created":1724060178448,"text":"obtainDefaultPersistenceUnitInfo","layout_right_offset":{"x":331,"y":-7},"note":"```java\nPersistenceUnitInfo obtainDefaultPersistenceUnitInfo() throws IllegalStateException;\n```"},"children":[]},{"data":{"id":"d3jsclgh5jc0","created":1724060242602,"text":"obtainPersistenceUnitInfo(String name)","layout_right_offset":{"x":372,"y":9},"note":"```java\nPersistenceUnitInfo obtainPersistenceUnitInfo(String persistenceUnitName)\n\t\t\tthrows IllegalArgumentException, IllegalStateException;\n```"},"children":[]},{"data":{"id":"d3jsnq0dqrk0","created":1724061114518,"text":"generateSchema","layout_right_offset":{"x":228,"y":27}},"children":[]},{"data":{"id":"d3jso77oups0","created":1724061151966,"text":"getProviderUtil","layout_right_offset":{"x":224,"y":44}},"children":[]}]}]},{"data":{"id":"d3kdg9l8cyw0","created":1724119773533,"text":"JpaDialect","priority":1,"note":"SPI策略，它封装了标准JPA 2.1不提供的某些功能，例如对底层JDBC连接的访问。该策略主要用于单独使用JPA提供程序;它的大部分功能在使用JTA事务时是不相关的。\n\n通常，建议从DefaultJpaDialect派生，而不是直接实现该接口。这允许从DefaultJpaDialect继承公共行为(现在的和将来的)，只重写特定的钩子来插入具体的供应商特定行为。"},"children":[{"data":{"id":"d3ke3uwoc2o0","created":1724121622313,"text":"methods"},"children":[{"data":{"id":"d3ke3yeox7c0","created":1724121629933,"text":"beginTransaction(EntityManager, TransactionDefinition)","note":"### Object\n\n开始给定的JPA事务，应用给定Spring事务定义指定的语义(特别是隔离级别和超时)。在事务开始时由JpaTransactionManager调用。\n实现可以配置JPA Transaction对象，然后调用begin，或者调用一个特殊的begin方法，例如，该方法采用隔离级别。\n实现可以将只读标志应用于刷新模式。在这种情况下，可以返回一个事务数据对象，该对象保存之前的刷新模式(可能还有其他数据)，并在cleanupTransaction中重置。它还可以在开始事务之前对底层JDBC Connection应用只读标志和隔离级别。\n实现也可以使用传入的TransactionDefinition公开的Spring事务名来优化特定的数据访问用例(有效地使用当前事务名作为用例标识符)。\n此方法还允许通过返回一个实现Spring的org.springframework.transaction.SavepointManager接口的Object来公开保存点功能(如果持久化提供程序支持的话)。如果需要，JpaTransactionManager将使用此功能。"},"children":[]},{"data":{"id":"d3ke6ttcxw80","created":1724121855028,"text":"prepareTransaction(EntityManager,boolean,String)","note":"### Object"},"children":[]},{"data":{"id":"d3ke7ocbvr40","created":1724121921479,"text":"cleanupTransaction"},"children":[]},{"data":{"id":"d3ke7x3e0uw0","created":1724121940529,"text":"getJdbcConnection"},"children":[]},{"data":{"id":"d3ke866ilvc0","created":1724121960309,"text":"releaseJdbcConnection"},"children":[]}]}]},{"data":{"id":"d3kdh97a6e80","created":1724119851054,"text":"JpaVendorAdapter","priority":1,"note":"SPI接口，允许将供应商特定的行为插入到Spring的EntityManagerFactory创建者中。\n作为所有特定于供应商的属性的单一配置点。"},"children":[{"data":{"id":"d3kdqri4umw0","created":1724120596169,"text":"methods","expandState":"expand"},"children":[{"data":{"id":"d3kdqwlqyo00","created":1724120607272,"text":"getPersistenceProvider()","note":"### PersistenceProvider"},"children":[]},{"data":{"id":"d3kdrzfff8o0","created":1724120691784,"text":"getPersistenceProviderRootPackage()","note":"### String"},"children":[]},{"data":{"id":"d3kdsvv8dcw0","created":1724120762397,"text":"getJpaPropertyMap(PersistenceUnitInfo)","note":"### Map<String, ?>"},"children":[]},{"data":{"id":"d3kduug9no00","created":1724120916043,"text":"getJpaPropertyMap()","note":"### Map<String,?>"},"children":[]},{"data":{"id":"d3kdv9qx4400","created":1724120949339,"text":"getJpaDialect()","note":"### JpaDialect"},"children":[]},{"data":{"id":"d3kdw0i5g600","created":1724121007582,"text":"getEntityManagerFactoryInterface()","note":"### Class<? extends EntityManagerFactory>"},"children":[]},{"data":{"id":"d3kdxh0698w0","created":1724121121865,"text":"getEntityManagerInterface()","note":"### Class<? extends EntityManager>"},"children":[]},{"data":{"id":"d3kdzmuspjk0","created":1724121291328,"text":"postProcessEntityManagerFactory(EntityManagerFactory)"},"children":[]},{"data":{"id":"d3ke04gw86w0","created":1724121329670,"text":"postProcessEntityManager(EntityManager)"},"children":[]}]}]}]},"template":"default","theme":"fresh-green-compat","version":"1.4.43"}